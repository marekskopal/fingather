<h1>Assets</h1>

<fingather-portfolio-total></fingather-portfolio-total>

<a (click)="addAsset()" class="btn btn-sm btn-success mb-2" tabindex="0">Add Asset</a>
<a routerLink="import" class="btn btn-sm mb-2">Import</a>
<table class="table table-striped">
    <thead>
        <tr>
            <th style="width: 24%">Name</th>
            <th style="width: 9.5%">Price</th>
            <th style="width: 9.5%">Units</th>
            <th style="width: 9.5%">Value</th>
            <th style="width: 9.5%">Gain/Loss</th>
            <th style="width: 9.5%">Dividend</th>
            <th style="width: 9.5%">FX Impact</th>
            <th style="width: 9.5%"><strong>Return</strong></th>
            <th style="width: 9.5%"></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let asset of assets">
            <td><strong>{{asset.ticker.ticker}}</strong> {{asset.ticker.name}}</td>
            <td class="text-end">{{asset.price | number:'1.2-2' }}</td>
            <td>{{asset.units | number:'1.0-8'}}</td>
            <td class="text-end">{{asset.value | number:'1.2-2'}}</td>
            <td class="text-end" style="color:{{asset.gain > 0 ? 'green' : (asset.gain < 0 ? 'red' : '')}}">
                <div class="small">{{asset.gain | number:'1.2-2'}}</div>
                <div>{{asset.gainPercentage}}%</div>
            </td>
            <td class="text-end" style="color:{{asset.dividendGain > 0 ? 'green' : (asset.dividendGain < 0 ? 'red' : '')}}">
                <div class="small">{{asset.dividendGain | number:'1.2-2'}}</div>
                <div>{{asset.dividendGainPercentage}}%</div>
            </td>
            <td class="text-end" style="color:{{asset.fxImpact > 0 ? 'green' : (asset.fxImpact < 0 ? 'red' : '')}}">
                <div class="small">{{asset.fxImpact | number:'1.2-2'}}</div>
                <div>{{asset.fxImpactPercentage}}%</div>
            </td>
            <td class="text-end" style="color:{{asset.return > 0 ? 'green' : (asset.return < 0 ? 'red' : '')}}">
                <div class="small"><strong>{{asset.return | number:'1.2-2'}}</strong></div>
                <div><strong>{{asset.returnPercentage}}%</strong></div>
            </td>
            <td style="white-space: nowrap">
                <a routerLink="{{asset.id}}" class="btn btn-sm btn-primary mr-1">Detail</a>
            </td>
        </tr>
        <tr *ngIf="assets === null">
            <td colspan="9" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr>
    </tbody>
</table>
